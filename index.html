<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3Âº Ano A de AdministraÃ§Ã£o</title>

  <style>
    :root{
      --vermelho:#c0392b;
      --vermelho-escuro:#8e0e00;
      --bg:#f5f5f5;
      --card:#ffffff;
      --texto:#222;
    }
    body.dark{
      --bg:#121212;
      --card:#1e1e1e;
      --texto:#f1f1f1;
    }
    *{box-sizing:border-box;font-family:Segoe UI,Arial,sans-serif}
    body{margin:0;background:var(--bg);color:var(--texto);padding:20px;min-height:100vh}
    h1{text-align:center;color:var(--vermelho);margin-bottom:10px}
    .container{max-width:1000px;margin:auto;background:var(--card);padding:25px;border-radius:12px;box-shadow:0 10px 25px rgba(0,0,0,.2)}
    button{padding:10px;border:none;border-radius:6px;background:var(--vermelho);color:#fff;cursor:pointer;font-weight:bold}
    button:hover{opacity:.9}
    input,select,textarea{padding:10px;border-radius:6px;border:1px solid #ccc;width:100%}
    form{display:grid;gap:10px;margin-bottom:20px}
    .top{display:flex;justify-content:space-between;gap:10px;margin-bottom:15px}
    .card{background:var(--card);padding:15px;border-radius:10px;margin-bottom:10px;box-shadow:0 4px 10px rgba(0,0,0,.15)}
    .atividade.concluida{text-decoration:line-through;opacity:.6}
    .calendario{display:grid;grid-template-columns:repeat(7,1fr);gap:5px;margin-top:10px}
    .dia{padding:8px;border-radius:6px;background:#eee;font-size:12px}
    body.dark .dia{background:#2a2a2a}
  </style>
</head>
<body>

<h1>ðŸ“˜ 3Âº Ano A de AdministraÃ§Ã£o</h1>
<div class="container">

<div class="top">
  <button onclick="toggleDark()">ðŸŒ™ Modo escuro</button>
  <button onclick="logout()" style="background:#555">Sair</button>
</div>

<!-- LOGIN -->
<div id="auth">
  <h2>Acesso</h2>
  <button onclick="mostrar('aluno')">Aluno</button>
  <button onclick="mostrar('professor')" style="background:#8e44ad">Professor</button>

  <div id="authAluno">
    <h3>Aluno</h3>
    <input id="loginNome" placeholder="Nome" />
    <input id="loginSenha" type="password" placeholder="Senha" />
    <button onclick="login('aluno')">Entrar</button>
    <h4>Criar conta</h4>
    <input id="regNome" placeholder="Nome" />
    <input id="regSenha" type="password" placeholder="Senha" />
    <button onclick="registrar('aluno')">Registrar</button>
  </div>

  <div id="authProfessor" style="display:none">
    <h3>Professor</h3>
    <input id="profLoginNome" placeholder="Nome" />
    <input id="profLoginSenha" type="password" placeholder="Senha" />
    <button onclick="login('professor')">Entrar</button>
    <h4>Criar conta</h4>
    <input id="profRegNome" placeholder="Nome" />
    <input id="profRegSenha" type="password" placeholder="Senha" />
    <button onclick="registrar('professor')">Registrar</button>
  </div>
</div>

<!-- ALUNO -->
<div id="alunoApp" style="display:none">
  <h2>Painel do Aluno</h2>
  <form id="formAluno">
    <input id="titulo" placeholder="Atividade" required />
    <input id="data" type="date" required />
    <select id="materia"><option>MatemÃ¡tica</option><option>PortuguÃªs</option><option>FÃ­sica</option></select>
    <input type="file" id="arquivo" />
    <button>Adicionar</button>
  </form>
  <div id="lista"></div>
  <h3>ðŸ“… CalendÃ¡rio semanal</h3>
  <div id="calendario" class="calendario"></div>
</div>

<!-- PROFESSOR -->
<div id="professorApp" style="display:none">
  <h2>Painel do Professor</h2>
  <form id="formAula">
    <input id="aulaData" type="date" required />
    <input id="aulaMateria" placeholder="MatÃ©ria" required />
    <textarea id="aulaConteudo" placeholder="ConteÃºdo" required></textarea>
    <button>Registrar aula</button>
  </form>
  <div id="listaAulas"></div>
</div>

</div>

<script>
const $=id=>document.getElementById(id)
let usuario=localStorage.getItem('usuario')
let tipo=localStorage.getItem('tipo')

function hash(s){let h=0;for(let c of s)h=((h<<5)-h)+c.charCodeAt(0);return h+''}
function users(t){return JSON.parse(localStorage.getItem(t+'_users'))||{}}
function save(t,u){localStorage.setItem(t+'_users',JSON.stringify(u))}

function mostrar(t){authAluno.style.display=t==='aluno'?'block':'none';authProfessor.style.display=t==='professor'?'block':'none'}

function registrar(t){const n=$(t==='aluno'?'regNome':'profRegNome').value.trim();const s=$(t==='aluno'?'regSenha':'profRegSenha').value;if(!n||!s)return alert('Dados invÃ¡lidos');const u=users(t);if(u[n])return alert('Conta jÃ¡ existe');u[n]={senha:hash(s)};save(t,u);alert('Conta criada')}

function login(t){const n=$(t==='aluno'?'loginNome':'profLoginNome').value.trim();const s=$(t==='aluno'?'loginSenha':'profLoginSenha').value;const u=users(t);if(!u[n]||u[n].senha!==hash(s))return alert('Login invÃ¡lido');localStorage.setItem('usuario',n);localStorage.setItem('tipo',t);location.reload()}

function logout(){localStorage.removeItem('usuario');localStorage.removeItem('tipo');location.reload()}

function iniciar(){auth.style.display='none';if(tipo==='aluno')initAluno();else initProfessor()}

function initAluno(){alunoApp.style.display='block';const key='ativ_'+usuario;let a=JSON.parse(localStorage.getItem(key))||[];formAluno.onsubmit=e=>{e.preventDefault();a.push({t:titulo.value,d:data.value,m:materia.value,f:arquivo.files[0]?.name||''});localStorage.setItem(key,JSON.stringify(a));render()};function render(){lista.innerHTML='';calendario.innerHTML='';a.forEach(x=>{lista.innerHTML+=`<div class="card atividade">${x.t} - ${x.m} ${x.f?'ðŸ“Ž':''}</div>`;calendario.innerHTML+=`<div class="dia">${x.d}<br>${x.t}</div>`})}render()}

function initProfessor(){professorApp.style.display='block';const key='aulas_'+usuario;let a=JSON.parse(localStorage.getItem(key))||[];formAula.onsubmit=e=>{e.preventDefault();a.push({d:aulaData.value,m:aulaMateria.value,c:aulaConteudo.value});localStorage.setItem(key,JSON.stringify(a));render()};function render(){listaAulas.innerHTML='';a.forEach(x=>listaAulas.innerHTML+=`<div class="card">${x.d} - ${x.m}<br>${x.c}</div>`)}render()}

function toggleDark(){document.body.classList.toggle('dark');localStorage.setItem('dark',document.body.classList.contains('dark'))}
if(localStorage.getItem('dark')==='true')document.body.classList.add('dark')
if(usuario&&tipo)iniciar()
</script>
</body>
</html>